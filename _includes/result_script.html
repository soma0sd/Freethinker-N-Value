<script>
var colorMap = ['#f44336', '#e91e63', '#9c27b0', '#673ab7',
                '#3f51b5', '#2196f3', '#03a9f4', '#00bcd4',
                '#009688', '#4caf50', '#8bc34a', '#cddc39'];
var valuesN = questions[0].effect.length;
var values = new Array();
var hFullX = 1200;
var vGridY = (600 / valuesN).toFixed(1);
var hBarheight = (vGridY * 0.4).toFixed(1);
for(var i = 0; i < valuesN; i++){
  values[i] = getQueryVariable( String.fromCharCode(97 + i) );
}

$("#result-box").ready(function() {
  var canv = $("#result-box")[0];
  var ctx = canv.getContext('2d');
  var _x, _y, _bi, _bf;
  for(var i = 0; i < valuesN; i++){
    _x = hFullX * 0.1;
    _y = (vGridY * i) + (vGridY * 0.5);
    _bi = (hFullX * 0.7 * values[i] / 100).toFixed(1);
    _bf = (hFullX * 0.7) - _bi;
    ctx.fillStyle = '#000000';
    ctx.fillRect(_x, _y, (hFullX * 0.8), hBarheight);
    ctx.fillStyle = colorMap[i];
    ctx.fillRect(_x, _y, _bi, hBarheight);
    ctx.font = '102px roboto';
    ctx.fillStyle = '#ff0000';
    ctx.fillText(new String(values[i], "%"), 600, _y+51);
  }
});
function getQueryVariable(variable){
  // 쿼리로부터 값 취득
  var query = window.location.search.substring(1)
  var vars = query.split("&")
  for (var i=0;i<vars.length;i++) {
         var pair = vars[i].split("=")
         if(pair[0] == variable) {return pair[1]}
  }
  return(NaN);
}
</script>
